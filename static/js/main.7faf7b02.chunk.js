(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(43)},31:function(e,t,a){},32:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(21),l=a.n(r),o=(a(31),a(2)),c=a(3),i=a(5),u=a(4),d=a(6),m=(a(32),a(7)),h=a(13),f=a(1),E=new(a(22).Dispatcher),p="ACCOUNT_SIGN_IN",C="ACCOUNT_CREATED",v="GET_USER",b="ROLES_RECEIVED",g="COURSES_FETCHED",y="COURSES_FETCHED",k="COURSE_UPDATED",O="COURSE_UPDATED",j="COURSE_UPDATED",S="USERS_FETCHED",N="USER_UPDATED",x="USER_DELETED",w="CLASSES_FETCHED",A="CLASS_CREATED",_="CLASS_FETCHED",U="CLASS_STUDENTS_FETCHED",D="CLASS_INS_FETCHED",T="CLASS_STUDENT_ADDED",L="CLASS_INS_ADDED",P="CLASS_STUDENT_REMOVED",R="CLASS_INS_REMOVED",I="EXAMS_FETCHED",G="EXAM_CREATED",H="EXAMS_DELETED",M="EXAM_FETCHED",W="EXAM_UPDATED",F=a(25),K=a(12),B=-1,X=null,J={},Q=new(function(e){function t(){var e;return Object(o.a)(this,t),e=Object(i.a)(this,Object(u.a)(t).call(this)),E.register(e._registerToActions.bind(Object(f.a)(Object(f.a)(e)))),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_registerToActions",value:function(e){switch(e.actionType){case p:this._setUserid(e.payload);break;case C:this._setUserid(e.payload);case v:this._setUser(e.payload);break;case b:this._setRoles(e.payload)}}},{key:"_setRoles",value:function(e){var t=this;J=e,setTimeout(function(){t.emit("ROLES_CHANGED")},0)}},{key:"getRoles",value:function(){return J}},{key:"_setUserid",value:function(e){if(e){var t=this;B=e,localStorage.setItem("userid",B.userid),setTimeout(function(){t.emit("CHANGE")},0)}}},{key:"_getUserid",value:function(){if(localStorage.getItem("userid"))return localStorage.getItem("userid")}},{key:"_setUser",value:function(e){if(e){var t=this;X=e,setTimeout(function(){t.emit("PROFILE_CHANGE")},0)}}},{key:"_getUser",value:function(){return X}},{key:"addSigninListener",value:function(e){this.on("CHANGE",e)}},{key:"removeSigninListener",value:function(e){this.removeListener("CHANGE",e)}},{key:"addProfileChangeListener",value:function(e){this.on("PROFILE_CHANGE",e)}},{key:"removeProfileChangeListener",value:function(e){this.removeListener("PROFILE_CHANGE",e)}},{key:"addRoleListener",value:function(e){this.on("ROLES_CHANGED",e)}},{key:"removeRoleListener",value:function(e){this.removeListener("ROLES_CHANGED",e)}}]),t}(K.EventEmitter)),z=function(){function e(t){Object(o.a)(this,e),this.domain=t||"http://ec2-18-223-155-37.us-east-2.compute.amazonaws.com:3000/api/",this.fetch=this.fetch.bind(this),this.login=this.login.bind(this)}return Object(c.a)(e,[{key:"login",value:function(e,t){return this.fetch("".concat(this.domain,"signin/"),{method:"POST",body:JSON.stringify({email:e,password:t})}).then(function(e){return Promise.resolve(e)})}},{key:"signup",value:function(e,t,a,n){return this.fetch("".concat(this.domain,"signup/"),{method:"POST",body:JSON.stringify({email:e,password:t,firstname:a,lastname:n})}).then(function(e){return Promise.resolve(e)})}},{key:"getRoles",value:function(){return this.fetch("".concat(this.domain,"roles/"),{method:"GET"}).then(function(e){return Promise.resolve(e)})}},{key:"getUser",value:function(e){return this.fetch("".concat(this.domain,"user/").concat(e),{method:"GET"}).then(function(e){return Promise.resolve(e)})}},{key:"loggedIn",value:function(){return!!this.getToken()}},{key:"setToken",value:function(e){localStorage.setItem("id_token",e)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"logout",value:function(){localStorage.removeItem("id_token")}},{key:"getCourses",value:function(){return this.fetch("".concat(this.domain,"course/"),{method:"GET"}).then(function(e){return Promise.resolve(e)})}},{key:"getCourse",value:function(e){return this.fetch("".concat(this.domain,"course/").concat(e),{method:"GET"}).then(function(e){return Promise.resolve(e)})}},{key:"updateCourse",value:function(e,t){return this.fetch("".concat(this.domain,"course/").concat(e),{method:"PUT",body:JSON.stringify({coursename:t})}).then(function(e){return Promise.resolve(e)})}},{key:"addCourse",value:function(e,t){return this.fetch("".concat(this.domain,"course/"),{method:"POST",body:JSON.stringify({createrid:e,coursename:t})}).then(function(e){return Promise.resolve(e)})}},{key:"deleteCourse",value:function(e){return this.fetch("".concat(this.domain,"course/").concat(e),{method:"DELETE"}).then(function(e){return Promise.resolve(e)})}},{key:"getUsers",value:function(){return this.fetch("".concat(this.domain,"users/"),{method:"GET"}).then(function(e){return Promise.resolve(e)})}},{key:"updateUser",value:function(e,t,a,n){return this.fetch("".concat(this.domain,"user/").concat(e),{method:"PUT",body:JSON.stringify({firstname:t,lastname:a,isadmin:n})}).then(function(e){return Promise.resolve(e)})}},{key:"deleteUser",value:function(e){return this.fetch("".concat(this.domain,"user/").concat(e),{method:"DELETE"}).then(function(e){return Promise.resolve(e)})}},{key:"addClass",value:function(e,t,a,n,s){return this.fetch("".concat(this.domain,"class/"),{method:"POST",body:JSON.stringify({classname:e,createdby:t,courseid:s,starttime:a,stoptime:n})}).then(function(e){return Promise.resolve(e)})}},{key:"getClasses",value:function(){return this.fetch("".concat(this.domain,"class/"),{method:"GET"}).then(function(e){return Promise.resolve(e)})}},{key:"getClass",value:function(e){return this.fetch("".concat(this.domain,"class/").concat(e),{method:"GET"}).then(function(e){return Promise.resolve(e)})}},{key:"getClassInstructors",value:function(e){return this.fetch("".concat(this.domain,"class/").concat(e,"/instructors"),{method:"GET"}).then(function(e){return Promise.resolve(e)})}},{key:"getClassStudents",value:function(e){return this.fetch("".concat(this.domain,"class/").concat(e,"/students"),{method:"GET"}).then(function(e){return Promise.resolve(e)})}},{key:"addStudentToClass",value:function(e,t){return this.fetch("".concat(this.domain,"class/student"),{method:"POST",body:JSON.stringify({userid:e,classid:t})}).then(function(e){return Promise.resolve(e)})}},{key:"addInstructorToClass",value:function(e,t){return this.fetch("".concat(this.domain,"class/instructor"),{method:"POST",body:JSON.stringify({userid:e,classid:t})}).then(function(e){return Promise.resolve(e)})}},{key:"removeStudentFromClass",value:function(e,t){return this.fetch("".concat(this.domain,"class/student"),{method:"DELETE",body:JSON.stringify({userid:e,classid:t})}).then(function(e){return Promise.resolve(e)})}},{key:"removeInstructorFromClass",value:function(e,t){return this.fetch("".concat(this.domain,"class/instructor"),{method:"DELETE",body:JSON.stringify({userid:e,classid:t})}).then(function(e){return Promise.resolve(e)})}},{key:"getClassesForInstructor",value:function(){return this.fetch("".concat(this.domain,"instructor/class"),{method:"GET"}).then(function(e){return Promise.resolve(e)})}},{key:"getClassesForStudent",value:function(){return this.fetch("".concat(this.domain,"student/class"),{method:"GET"}).then(function(e){return Promise.resolve(e)})}},{key:"getExamsInClass",value:function(e){return this.fetch("".concat(this.domain,"class/").concat(e,"/exam"),{method:"GET"}).then(function(e){return Promise.resolve(e)})}},{key:"createExam",value:function(e,t,a,n){return this.fetch("".concat(this.domain,"class/").concat(e,"/exam"),{method:"POST",body:JSON.stringify({date:t,answerkey:a,name:n})}).then(function(e){return Promise.resolve(e)})}},{key:"getExam",value:function(e){return this.fetch("".concat(this.domain,"exam/").concat(e),{method:"GET"}).then(function(e){return Promise.resolve(e)})}},{key:"deleteExam",value:function(e){return this.fetch("".concat(this.domain,"exam/").concat(e),{method:"DELETE"}).then(function(e){return Promise.resolve(e)})}},{key:"updateAnswerKey",value:function(e,t){return this.fetch("".concat(this.domain,"exam/").concat(e),{method:"PUT",body:JSON.stringify({answerkey:t})}).then(function(e){return Promise.resolve(e)})}},{key:"getStudentExam",value:function(e){return this.fetch("".concat(this.domain,"student/exam/").concat(e),{method:"GET"}).then(function(e){return Promise.resolve(e)})}},{key:"submitAnswer",value:function(e,t){return this.fetch("".concat(this.domain,"student/exam/").concat(e),{method:"POST",body:JSON.stringify({answers:t})}).then(function(e){return Promise.resolve(e)})}},{key:"fetch",value:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var a={Accept:"application/json","Content-Type":"application/json",userid:Q._getUserid()};return this.loggedIn()&&(a.Authorization="Token "+this.getToken()),fetch(e,Object(F.a)({headers:a},t)).then(this._checkStatus).then(function(e){return e.json()})})},{key:"_checkStatus",value:function(e){if(e.status>=200&&e.status<300)return e;throw console.log(e),alert(e.statusText),JSON.stringify({})}}]),e}(),V=new z,Y=new(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"signin",value:function(e,t){V.login(e,t).then(function(e){E.dispatch({actionType:p,payload:e})})}},{key:"signup",value:function(e,t,a,n){V.signup(a,n,e,t).then(function(e){E.dispatch({actionType:C,payload:e})})}},{key:"getUser",value:function(e){V.getUser(e).then(function(e){E.dispatch({actionType:v,payload:e})})}},{key:"getRole",value:function(){V.getRoles().then(function(e){E.dispatch({actionType:b,payload:e})})}}]),e}()),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={email:"",password:""},a.handleEmailChange=a.handleEmailChange.bind(Object(f.a)(Object(f.a)(a))),a.handlePasswordChange=a.handlePasswordChange.bind(Object(f.a)(Object(f.a)(a))),a.handleLogin=a.handleLogin.bind(Object(f.a)(Object(f.a)(a))),a._onSignInReceived=a._onSignInReceived.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){Q.addSigninListener(this._onSignInReceived)}},{key:"componentWillUnmount",value:function(){Q.removeSigninListener(this._onSignInReceived)}},{key:"_onSignInReceived",value:function(){var e=Q._getUserid();console.log(e),this.props.history.replace("./")}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){e.preventDefault(),Y.signin(this.state.email,this.state.password)}},{key:"render",value:function(){return s.a.createElement("div",{className:"container",style:{paddingTop:"150px"}},s.a.createElement("h3",null,"Easy Exam Login"),s.a.createElement("div",{className:"col col-md-6 offset-md-3",style:{borderColor:"#999",borderRadius:"5px",padding:"20px"}},s.a.createElement("form",null,s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{for:"email"},"Email address"),s.a.createElement("input",{type:"email",class:"form-control",id:"email",value:this.state.email,"aria-describedby":"emailHelp",placeholder:"Enter email",onChange:this.handleEmailChange}),s.a.createElement("small",{id:"emailHelp",class:"form-text text-muted"},"We'll never share your email with anyone else.")),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{for:"password"},"Password"),s.a.createElement("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",onChange:this.handlePasswordChange,value:this.state.password})),s.a.createElement("button",{type:"submit",class:"btn btn-primary",onClick:this.handleLogin},"Submit"))),s.a.createElement("br",null),s.a.createElement("a",{href:"/signup"},"Create Account"))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={email:"",password:"",fname:"",lname:""},a.handleFnameChange=a.handleFnameChange.bind(Object(f.a)(Object(f.a)(a))),a.handleLnameChange=a.handleLnameChange.bind(Object(f.a)(Object(f.a)(a))),a.handleEmailChange=a.handleEmailChange.bind(Object(f.a)(Object(f.a)(a))),a.handlePasswordChange=a.handlePasswordChange.bind(Object(f.a)(Object(f.a)(a))),a.handleSignup=a.handleSignup.bind(Object(f.a)(Object(f.a)(a))),a._onSignInReceived=a._onSignInReceived.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){Q.addSigninListener(this._onSignInReceived)}},{key:"componentWillUnmount",value:function(){Q.removeSigninListener(this._onSignInReceived)}},{key:"_onSignInReceived",value:function(){var e=Q._getUserid();console.log(e),this.props.history.replace("./")}},{key:"handleFnameChange",value:function(e){this.setState({fname:e.target.value})}},{key:"handleLnameChange",value:function(e){this.setState({lname:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleSignup",value:function(e){e.preventDefault(),Y.signup(this.state.fname,this.state.lname,this.state.email,this.state.password)}},{key:"render",value:function(){return s.a.createElement("div",{className:"container",style:{paddingTop:"150px"}},s.a.createElement("h3",null,"Easy Exam Sign up"),s.a.createElement("div",{className:"col col-md-8 offset-md-2",style:{borderColor:"#999",borderRadius:"5px",padding:"20px"}},s.a.createElement("form",null,s.a.createElement("div",{class:"row form-group"},s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"fname"},"First name"),s.a.createElement("input",{type:"text",class:"form-control",id:"fname",value:this.state.fname,placeholder:"Enter first name",onChange:this.handleFnameChange})),s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"lname"},"Last name"),s.a.createElement("input",{type:"text",class:"form-control",id:"lname",value:this.state.lname,placeholder:"Enter last name",onChange:this.handleLnameChange}))),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{for:"email"},"Email address"),s.a.createElement("input",{type:"email",class:"form-control",id:"email",value:this.state.email,"aria-describedby":"emailHelp",placeholder:"Enter email",onChange:this.handleEmailChange}),s.a.createElement("small",{id:"emailHelp",class:"form-text text-muted"},"We'll never share your email with anyone else.")),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{for:"password"},"Password"),s.a.createElement("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",onChange:this.handlePasswordChange,value:this.state.password})),s.a.createElement("button",{type:"submit",class:"btn btn-primary",onClick:this.handleSignup},"Create Account"))),s.a.createElement("br",null),s.a.createElement("a",{href:"/signin"},"Already have an account? Signin."))}}]),t}(n.Component),Z=new z,ee=new(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"fetchCourses",value:function(){Z.getCourses().then(function(e){E.dispatch({actionType:g,payload:e})})}},{key:"fetchCourse",value:function(e){Z.getCourse(e).then(function(e){E.dispatch({actionType:y,payload:e})})}},{key:"addCourse",value:function(e,t){Z.addCourse(e,t).then(function(e){E.dispatch({actionType:j,payload:e})})}},{key:"updateCourse",value:function(e,t){Z.updateCourse(e,t).then(function(e){E.dispatch({actionType:k,payload:e})})}},{key:"deleteCourse",value:function(e){Z.deleteCourse(e).then(function(e){E.dispatch({actionType:O,payload:e})})}}]),e}()),te=[],ae=null,ne=new(function(e){function t(){var e;return Object(o.a)(this,t),e=Object(i.a)(this,Object(u.a)(t).call(this)),E.register(e._registerToActions.bind(Object(f.a)(Object(f.a)(e)))),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_registerToActions",value:function(e){switch(e.actionType){case g:this._setCourses(e.payload);break;case j:this._addCourse(e.payload);break;case O:this._deleteCourse(e.payload);break;case y:this._setCourse(e.payload);break;case k:this._updateCourse(e.payload)}}},{key:"_setCourses",value:function(e){var t=this;e&&(te=e,setTimeout(function(){t.emit("COURSES_CHANGE")},0))}},{key:"_getCourses",value:function(){return te}},{key:"_setCourse",value:function(e){var t=this;e&&(ae=e,setTimeout(function(){t.emit("COURSE_CHANGE")},0))}},{key:"_getCourse",value:function(){return ae}},{key:"_addCourse",value:function(e){e&&ee.fetchCourses()}},{key:"_deleteCourse",value:function(e){e&&ee.fetchCourses()}},{key:"_updateCourse",value:function(e){e&&this._setCourse(e)}},{key:"addCoursesChangeListner",value:function(e){this.on("COURSES_CHANGE",e)}},{key:"removeCoursesChangeListner",value:function(e){this.removeListener("COURSES_CHANGE",e)}},{key:"addCourseChangeListner",value:function(e){this.on("COURSE_CHANGE",e)}},{key:"removeCouseChangeListner",value:function(e){this.removeListener("COURSES_CHANGE",e)}}]),t}(K.EventEmitter)),se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={courses:[],newcourse:{name:""},edit:{idCourse:-1,name:"",createdBy:-1}},a._onCoursesChanged=a._onCoursesChanged.bind(Object(f.a)(Object(f.a)(a))),a._onCourseDelete=a._onCourseDelete.bind(Object(f.a)(Object(f.a)(a))),a.addCourse=a.addCourse.bind(Object(f.a)(Object(f.a)(a))),a.handleNameChange=a.handleNameChange.bind(Object(f.a)(Object(f.a)(a))),a._onEditPressed=a._onEditPressed.bind(Object(f.a)(Object(f.a)(a))),a.editCourseChange=a.editCourseChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){ne.addCoursesChangeListner(this._onCoursesChanged),ee.fetchCourses()}},{key:"componentWillUnmount",value:function(){ne.removeCoursesChangeListner(this._onCoursesChanged)}},{key:"_onCoursesChanged",value:function(){this.setState({courses:ne._getCourses()})}},{key:"_onCourseDelete",value:function(e){ee.deleteCourse(e)}},{key:"handleNameChange",value:function(e){this.setState({newcourse:{name:e.target.value}})}},{key:"_onEditPressed",value:function(e){this.state.edit.idCourse==e.idCourse?(ee.updateCourse(this.state.edit.idCourse,this.state.edit.name),this.setState({edit:{idCourse:-1,name:"",createdBy:-1}})):this.setState({edit:e})}},{key:"editCourseChange",value:function(e){this.setState({edit:{idCourse:this.state.edit.idCourse,name:e.target.value,createdBy:this.state.edit.createdBy}})}},{key:"addCourse",value:function(){""!=this.state.newcourse.name?ee.addCourse(Q._getUserid(),this.state.newcourse.name):alert("Enter valid course name")}},{key:"render",value:function(){var e=this,t=this.state.courses.map(function(t){return s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},t.idCourse),s.a.createElement("td",null,e.state.edit.idCourse!=t.idCourse?t.name:s.a.createElement("input",{type:"text",value:e.state.edit.name,onChange:e.editCourseChange})),s.a.createElement("td",null,t.createdBy),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e._onEditPressed(t)}},e.state.edit.idCourse==t.idCourse?"Save":"Edit")),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e._onCourseDelete(t.idCourse)}}," DELETE ")))});return s.a.createElement("div",null,s.a.createElement("h3",null,"Courses"),s.a.createElement("table",{class:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"id"),s.a.createElement("th",{scope:"col"},"Name"),s.a.createElement("th",{scope:"col"},"CreatedBy"),s.a.createElement("th",{scope:"col"},"Edit?"),s.a.createElement("th",{scope:"col"},"Delete?"))),s.a.createElement("tbody",null,t)),s.a.createElement("hr",{style:{color:"black",backgroundColor:"#aaa",height:"2px",borderRadius:"2px"}}),s.a.createElement("form",{style:{backgroundColor:"#eee",padding:"20px",borderRadius:"20px"}},s.a.createElement("h2",{for:"name"},"Add Course"),s.a.createElement("div",{class:"row form-group"},s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",class:"form-control",id:"cname",value:this.state.newcourse.name,placeholder:"Enter Course name",onChange:this.handleNameChange}))),s.a.createElement("button",{className:"btn btn-primary",onClick:this.addCourse},"Create Course")))}}]),t}(n.Component),re=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},s.a.createElement("li",{className:"nav-item "},s.a.createElement("a",{className:"nav-link",href:"/admin/user/"},"User ",s.a.createElement("span",{className:"sr-only"},"(current)"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"/admin/course/"},"Courses")),s.a.createElement("li",{class:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"/admin/class/"},"Class")))}}]),t}(n.Component),le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light bg-light"},s.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{class:"navbar-toggler-icon"})),s.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarTogglerDemo01"},s.a.createElement("a",{class:"navbar-brand",href:"/"},"Easy Exam "),"| ",this.props.page.split(" ")[0],s.a.createElement("div",null,"Admin home"===this.props.page?s.a.createElement(re,null):""),s.a.createElement("span",{class:"nav-item dropdown ml-auto"},s.a.createElement("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.props.name),s.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"navbarDropdown"},s.a.createElement("a",{onClick:this.props.onSignOut,class:"dropdown-item",href:"#"},"Sign Out")))))}}]),t}(n.Component),oe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={user:{firstName:"",lastName:"",idUser:-1},role:{isAdmin:!1,isStudent:!1,isInstructor:!1}},a._onProfileChanged=a._onProfileChanged.bind(Object(f.a)(Object(f.a)(a))),a.signout=a.signout.bind(Object(f.a)(Object(f.a)(a))),a.onRolesChanged=a.onRolesChanged.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){localStorage.getItem("userid")?(Q.addProfileChangeListener(this._onProfileChanged),Q.addRoleListener(this.onRolesChanged),Y.getUser(Q._getUserid()),Y.getRole()):this.props.history.replace("./signin")}},{key:"componentWillUnmount",value:function(){Q.removeProfileChangeListener(this._onProfileChanged),Q.removeRoleListener(this.onRolesChanged)}},{key:"_onProfileChanged",value:function(){var e=Q._getUser();this.setState({user:e})}},{key:"signout",value:function(){localStorage.clear(),window.location.href="/"}},{key:"onRolesChanged",value:function(){var e=Q.getRoles();console.log(e),this.setState({role:e})}},{key:"render",value:function(){var e={width:"100%",paddingTop:"140px",paddingBottom:"140px",borderRadius:"20px;",fontSize:"30px"};return s.a.createElement("div",null,s.a.createElement(le,{name:this.state.user.firstName+" "+this.state.user.lastName,onSignOut:this.signout,page:"home"}),s.a.createElement("div",{className:"container",style:{paddingTop:"150px"}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:this.state.role.isAdmin?"col":"hideen"},s.a.createElement("a",{href:"/admin",className:"btn btn-outline-primary",style:e}," Admin ")),s.a.createElement("div",{className:this.state.role.isInstructor?"col":"hideen"},s.a.createElement("a",{href:"/instructor",className:"btn btn-outline-primary",style:e}," Instructor ")),s.a.createElement("div",{className:this.state.role.isStudent?"col":"hideen"},s.a.createElement("a",{href:"/student",className:"btn btn-outline-primary",style:e}," Student ")))))}}]),t}(n.Component),ce=new z,ie=new(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"fetchUsers",value:function(){ce.getUsers().then(function(e){E.dispatch({actionType:S,payload:e})})}},{key:"updateUser",value:function(e){ce.updateUser(e.idUser,e.firstName,e.lastName,e.isAdmin).then(function(e){E.dispatch({actionType:N,payload:e})})}},{key:"deleteUser",value:function(e){ce.deleteUser(e).then(function(e){E.dispatch({actionTypes:x,payload:e})})}}]),e}()),ue=[],de=new(function(e){function t(){var e;return Object(o.a)(this,t),e=Object(i.a)(this,Object(u.a)(t).call(this)),E.register(e._registerToActions.bind(Object(f.a)(Object(f.a)(e)))),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_registerToActions",value:function(e){switch(e.actionType){case S:this._setUsers(e.payload);break;case N:case x:ie.fetchUsers()}}},{key:"_setUsers",value:function(e){var t=this;ue=e,setTimeout(function(){t.emit("USERS_CHANGED")},0)}},{key:"getUsers",value:function(){return ue}},{key:"onUsersChangedListener",value:function(e){this.on("USERS_CHANGED",e)}},{key:"removeUsersChangedListener",value:function(e){this.removeListener("USERS_CHANGED",e)}}]),t}(K.EventEmitter)),me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={users:[],selectedUser:{idUser:-1,isAdmin:!1,firstName:"",lastName:"",email:""}},a.onUsersChange=a.onUsersChange.bind(Object(f.a)(Object(f.a)(a))),a.handleChangeAdmin=a.handleChangeAdmin.bind(Object(f.a)(Object(f.a)(a))),a.handleDeleteUser=a.handleDeleteUser.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){de.onUsersChangedListener(this.onUsersChange),ie.fetchUsers()}},{key:"componentWillUnmount",value:function(){de.removeUsersChangedListener(this.onUsersChange)}},{key:"onUsersChange",value:function(){var e=de.getUsers();console.log(e),this.setState({users:e})}},{key:"handleChangeAdmin",value:function(e){var t={idUser:e.idUser,firstName:e.firstName,lastName:e.lastName,isAdmin:!e.isAdmin};ie.updateUser(t)}},{key:"handleDeleteUser",value:function(e){e.idUser!==Q._getUserid()?ie.deleteUser(e.idUser):alert("Can not delete account for yourself!")}},{key:"render",value:function(){var e=this,t=this.state.users.map(function(t){return s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},t.idUser),s.a.createElement("td",null,t.firstName),s.a.createElement("td",null,t.lastName),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.handleChangeAdmin(t)}},t.isAdmin?"Yes":"No")),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.handleDeleteUser(t)}},"Delete")))});return s.a.createElement("div",null,s.a.createElement("h3",null,"Users"),s.a.createElement("table",{class:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"id"),s.a.createElement("th",{scope:"col"},"First Name"),s.a.createElement("th",{scope:"col"},"Last Name"),s.a.createElement("th",{scope:"col"},"Admin?"),s.a.createElement("th",{scope:"col"},"Delete?"))),s.a.createElement("tbody",null,t)))}}]),t}(n.Component),he=new z,fe=new(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"fetchClasses",value:function(){he.getClasses().then(function(e){E.dispatch({actionType:w,payload:e})})}},{key:"addClass",value:function(e){he.addClass(e.name,Q._getUserid(),e.startdate,e.enddate,e.courseid).then(function(e){E.dispatch({actionTypes:A,payload:e})})}},{key:"getClass",value:function(e){he.getClass(e).then(function(e){E.dispatch({actionType:_,payload:e})})}},{key:"getClassStudents",value:function(e){he.getClassStudents(e).then(function(e){E.dispatch({actionType:U,payload:e})})}},{key:"getClassInstructorss",value:function(e){he.getClassInstructors(e).then(function(e){E.dispatch({actionType:D,payload:e})})}},{key:"addClassStudent",value:function(e,t){he.addStudentToClass(e,t).then(function(e){E.dispatch({actionType:T,payload:e})})}},{key:"addClassIns",value:function(e,t){he.addInstructorToClass(e,t).then(function(e){E.dispatch({actionType:L,payload:e})})}},{key:"deleteClassStudent",value:function(e,t){he.removeStudentFromClass(e,t).then(function(e){E.dispatch({actionType:P,payload:e})})}},{key:"deleteClassIns",value:function(e,t){he.removeInstructorFromClass(e,t).then(function(e){E.dispatch({actionType:R,payload:e})})}},{key:"fetchExams",value:function(e){he.getExamsInClass(e).then(function(e){E.dispatch({actionType:I,payload:e})})}},{key:"createExam",value:function(e,t,a,n){he.createExam(e,t,n,a).then(function(e){E.dispatch({actionType:G,payload:e})})}}]),e}()),Ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={courses:[],class:{name:"",courseid:"",startdate:new Date(Object(f.a)(Object(f.a)(a))),enddate:new Date(Object(f.a)(Object(f.a)(a))),createdby:""}},a.onCoursesChanged=a.onCoursesChanged.bind(Object(f.a)(Object(f.a)(a))),a.onClassNameChanged=a.onClassNameChanged.bind(Object(f.a)(Object(f.a)(a))),a.onClassStartChanged=a.onClassStartChanged.bind(Object(f.a)(Object(f.a)(a))),a.onClassEndChanged=a.onClassEndChanged.bind(Object(f.a)(Object(f.a)(a))),a.onCourseIdChanged=a.onCourseIdChanged.bind(Object(f.a)(Object(f.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){ne.addCoursesChangeListner(this.onCoursesChanged),ee.fetchCourses()}},{key:"componentWillUnmount",value:function(){ne.removeCoursesChangeListner(this.onCoursesChanged)}},{key:"onCoursesChanged",value:function(){var e=ne._getCourses();this.setState({courses:e})}},{key:"onClassNameChanged",value:function(e){e.preventDefault();var t=this.state.class;t.name=e.target.value,this.setState({class:t})}},{key:"onCourseIdChanged",value:function(e){e.preventDefault();var t=this.state.class;t.courseid=e.target.value,this.setState({class:t})}},{key:"onClassStartChanged",value:function(e){e.preventDefault();var t=this.state.class;t.startdate=e.target.value,this.setState({class:t})}},{key:"onClassEndChanged",value:function(e){e.preventDefault();var t=this.state.class;t.enddate=e.target.value,this.setState({class:t})}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(this.state),fe.addClass(this.state.class)}},{key:"render",value:function(){var e=this.state.courses.map(function(e){return s.a.createElement("option",{value:e.idCourse},e.name)});return s.a.createElement("form",{style:{backgroundColor:"#eee",padding:"20px",borderRadius:"20px"}},s.a.createElement("h2",{for:"name"},"Add Class"),s.a.createElement("div",{class:"row form-group"},s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"cname"},"Enter Class Name"),s.a.createElement("input",{type:"text",class:"form-control",id:"cname",placeholder:"Enter Class name",value:this.state.class.name,onChange:this.onClassNameChanged})),s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"course-select"},"Select Course"),s.a.createElement("select",{value:this.state.class.courseid,className:"form-control",id:"course-select",onChange:this.onCourseIdChanged},e))),s.a.createElement("div",{className:"row form-group"},s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"start-date"},"Enter Start Date"),s.a.createElement("input",{id:"start-date",type:"date",className:"form-control",value:this.state.class.startdate,onChange:this.onClassStartChanged})),s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"end-date"},"Enter End Date"),s.a.createElement("input",{id:"end-date",type:"date",className:"form-control",value:this.state.class.enddate,onChange:this.onClassEndChanged}))),s.a.createElement("button",{className:"btn btn-primary",onClick:this.handleSubmit},"Create Class"))}}]),t}(n.Component),pe=[],Ce={},ve=[],be=[],ge=new(function(e){function t(){var e;return Object(o.a)(this,t),e=Object(i.a)(this,Object(u.a)(t).call(this)),E.register(e._registerToActions.bind(Object(f.a)(Object(f.a)(e)))),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_registerToActions",value:function(e){var t=this;switch(e.actionType){case w:this._setClasses(e.payload);break;case A:fe.fetchClasses();break;case _:this._setClass(e.payload);break;case U:this._setClassStudents(e.payload);break;case D:this._setClassInstructors(e.payload);break;case L:case R:case T:case P:setTimeout(function(){t.emit("CLASS_CHANGED")},0)}}},{key:"_setClasses",value:function(e){var t=this;pe=e,setTimeout(function(){t.emit("CLASSES_CHANGED")},0)}},{key:"_setClass",value:function(e){var t=this;Ce=e,setTimeout(function(){t.emit("CLASS_CHANGED")},0)}},{key:"_setClassInstructors",value:function(e){var t=this;be=e,setTimeout(function(){t.emit("CLASS_USERS_CHANGED")},0)}},{key:"_setClassStudents",value:function(e){var t=this;ve=e,setTimeout(function(){t.emit("CLASS_USERS_CHANGED")},0)}},{key:"getClassIns",value:function(){return be}},{key:"getClassStudents",value:function(){return ve}},{key:"_getClasses",value:function(){return pe}},{key:"getClass",value:function(){return Ce}},{key:"addClassesChangedListner",value:function(e){this.on("CLASSES_CHANGED",e)}},{key:"removeClassesChangedListener",value:function(e){this.removeListener("CLASSES_CHANGED",e)}},{key:"addClassChangeListner",value:function(e){this.on("CLASS_CHANGED",e)}},{key:"removeClassChangeListener",value:function(e){this.removeListener("CLASS_CHANGED",e)}},{key:"addClassUserChangeListner",value:function(e){this.on("CLASS_USERS_CHANGED",e)}},{key:"removeClassUserChangeListner",value:function(e){this.on("CLASS_USERS_CHANGED",e)}}]),t}(K.EventEmitter)),ye=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={classes:[]},a.onClassesChanged=a.onClassesChanged.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){ge.addClassesChangedListner(this.onClassesChanged),fe.fetchClasses()}},{key:"componentWillUnmount",value:function(){ge.removeClassesChangedListener(this.onClassesChanged)}},{key:"onClassesChanged",value:function(){var e=ge._getClasses();this.setState({classes:e})}},{key:"render",value:function(){var e=this.state.classes.map(function(e){return s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},e.class_id),s.a.createElement("td",null,e.classname),s.a.createElement("td",null,e.starttime),s.a.createElement("td",null,e.endtime),s.a.createElement("td",null,e.coursename),s.a.createElement("td",null,e.studentcount),s.a.createElement("td",null,e.instructorcount),s.a.createElement("td",null,s.a.createElement("a",{href:e.class_id},"Details")))});return s.a.createElement("div",null,s.a.createElement("h3",null,"Classes"),s.a.createElement("table",{class:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"id"),s.a.createElement("th",{scope:"col"},"Name"),s.a.createElement("th",{scope:"col"},"Start Date"),s.a.createElement("th",{scope:"col"},"End Date"),s.a.createElement("th",{scope:"col"},"Course Name"),s.a.createElement("th",{scope:"col"},"# of Students"),s.a.createElement("th",{scope:"col"},"# of Instructor"),s.a.createElement("th",null))),s.a.createElement("tbody",null,e)),s.a.createElement("hr",{style:{color:"black",backgroundColor:"#aaa",height:"2px",borderRadius:"2px"}}),s.a.createElement(Ee,null))}}]),t}(n.Component),ke=function(e){function t(e){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.users,a=this.props.onClick,n=t.map(function(t){return s.a.createElement("li",{className:"list-group-item "},s.a.createElement("a",{href:"",className:"d-flex justify-content-between align-items-center",onClick:function(e){e.preventDefault(),a(t.idUser)},title:t.email},t.firstName+" "+t.lastName,s.a.createElement("span",{className:"delete"===e.props.operation?"badge  badge-pill badge-danger":"badge  badge-pill badge-primary"},"delete"===e.props.operation?"-":"+")))});return s.a.createElement("ul",{class:"list-group"},n)}}]),t}(n.Component),Oe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={classname:"",starttime:"",endtime:"",coursename:"",studentcount:"",instructorcount:"",allusers:[],instructors:[],Students:[]},a.onClassChanged=a.onClassChanged.bind(Object(f.a)(Object(f.a)(a))),a.onUsersChanged=a.onUsersChanged.bind(Object(f.a)(Object(f.a)(a))),a.onClassUsersChanged=a.onClassUsersChanged.bind(Object(f.a)(Object(f.a)(a))),a.onAddStudent=a.onAddStudent.bind(Object(f.a)(Object(f.a)(a))),a.onAddInstructor=a.onAddInstructor.bind(Object(f.a)(Object(f.a)(a))),a.onRemoveStudent=a.onRemoveStudent.bind(Object(f.a)(Object(f.a)(a))),a.onRemoveInstructor=a.onRemoveInstructor.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){de.onUsersChangedListener(this.onUsersChanged),ie.fetchUsers(),ge.addClassChangeListner(this.onClassChanged),ge.addClassUserChangeListner(this.onClassUsersChanged),fe.getClass(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){de.removeListener(this.onUsersChanged),ge.removeClassUserChangeListner(this.onClassUsersChanged),ge.removeClassChangeListener(this.onClassChanged)}},{key:"onClassChanged",value:function(){var e=ge.getClass();this.setState({classname:e.classname,starttime:new Date(e.starttime),endtime:e.endtime,coursename:e.coursename,studentcount:e.studentcount,instructorcount:e.instructorcount}),fe.getClassInstructorss(this.props.match.params.id),fe.getClassStudents(this.props.match.params.id)}},{key:"onClassUsersChanged",value:function(){var e=ge.getClassStudents(),t=ge.getClassIns();this.setState({instructors:t,Students:e,instructorcount:t.length,studentcount:e.length})}},{key:"onUsersChanged",value:function(){var e=de.getUsers();this.setState({allusers:e})}},{key:"onAddStudent",value:function(e){var t=this.props.match.params.id;fe.addClassStudent(e,t)}},{key:"onAddInstructor",value:function(e){var t=this.props.match.params.id;fe.addClassIns(e,t)}},{key:"onRemoveStudent",value:function(e){var t=this.props.match.params.id;fe.deleteClassStudent(e,t)}},{key:"onRemoveInstructor",value:function(e){var t=this.props.match.params.id;fe.deleteClassIns(e,t)}},{key:"render",value:function(){var e=this,t={backgroundColor:"#eee",padding:"20px",borderRadius:"20px"},a=s.a.createElement("div",{style:{height:"100vh",width:"100vw"}},s.a.createElement("h1",null,"Loading...")),n=this.state.allusers.filter(function(t){return!e.state.instructors.map(function(e){return e.idUser}).includes(t.idUser)&&!e.state.Students.map(function(e){return e.idUser}).includes(t.idUser)});return s.a.createElement("div",null,""===this.state.classname?a:"",s.a.createElement("h3",null,"Class details for ",this.state.classname),s.a.createElement("form",{style:t,className:"col col-md-8 offset-md-2"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"name"},"Class Name"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.classname,id:"name"})),s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"coursename"},"Course Name"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.coursename,id:"coursename",disabled:!0}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"startdate"},"Start Date"),s.a.createElement("input",{type:"date",className:"form-control",value:this.state.starttime,id:"startdate"})),s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"enddate"},"End Date"),s.a.createElement("input",{type:"date",className:"form-control",value:this.state.endtime,id:"enddate"}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"insnum"},"# of Instructors"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.instructorcount,id:"insnum",disabled:!0})),s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"stdnum"},"# of Students"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.studentcount,id:"stdnum",disabled:!0})))),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("div",{className:"col col-md-8 offset-md-2 row "},s.a.createElement("div",{className:"col",style:t},s.a.createElement("h6",null,"Current Instructors"),s.a.createElement("p",null,"Click remove"),s.a.createElement(ke,{users:this.state.instructors,onClick:this.onRemoveInstructor,operation:"delete"})),s.a.createElement("div",{className:"col offset-md-1",style:t},s.a.createElement("h6",null,"Add Instructors"),s.a.createElement("p",null,"Click add"),s.a.createElement(ke,{users:n,onClick:this.onAddInstructor,operation:"add"}))),s.a.createElement("br",null),s.a.createElement("div",{className:"col col-md-8 offset-md-2 row "},s.a.createElement("div",{className:"col",style:t},s.a.createElement("h6",null,"Current Students"),s.a.createElement("p",null,"Click remove"),s.a.createElement(ke,{users:this.state.Students,onClick:this.onRemoveStudent,operation:"delete"})),s.a.createElement("div",{className:"col offset-md-1",style:t},s.a.createElement("h6",null,"Add Students"),s.a.createElement("p",null,"Click add"),s.a.createElement(ke,{users:n,onClick:this.onAddStudent,operation:"add"})))))}}]),t}(n.Component),je=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={user:{firstName:"",lastName:"",idUser:-1}},a._onProfileChanged=a._onProfileChanged.bind(Object(f.a)(Object(f.a)(a))),a.signout=a.signout.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){localStorage.getItem("userid")?(Q.addProfileChangeListener(this._onProfileChanged),Y.getUser(Q._getUserid())):this.props.history.replace("./signin")}},{key:"componentWillUnmount",value:function(){Q.removeProfileChangeListener(this._onProfileChanged)}},{key:"_onProfileChanged",value:function(){var e=Q._getUser();this.setState({user:e})}},{key:"signout",value:function(){localStorage.clear(),window.location.href="/"}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(le,{name:this.state.user.firstName+" "+this.state.user.lastName,onSignOut:this.signout,page:"Admin home"}),s.a.createElement("div",{className:"container",style:{paddingTop:"50px"}},s.a.createElement(m.b,null,s.a.createElement(h.a,{exact:!0,path:"/admin/user/",component:me}),s.a.createElement(h.a,{exact:!0,path:"/admin/course/",component:se,userid:this.state.user.idUser}),s.a.createElement(h.a,{exact:!0,path:"/admin/class/:id",component:Oe}),s.a.createElement(h.a,{exact:!0,path:"/admin/class/",component:ye}),s.a.createElement(h.a,{exact:!0,path:"/admin/",component:me}))))}}]),t}(n.Component),Se=new z,Ne=new(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"fetchInstructorClasses",value:function(){Se.getClassesForInstructor().then(function(e){E.dispatch({actionType:w,payload:e})})}}]),e}()),xe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={classes:[]},a.onClassesChanged=a.onClassesChanged.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){ge.addClassesChangedListner(this.onClassesChanged),Ne.fetchInstructorClasses()}},{key:"componentWillUnmount",value:function(){ge.removeClassChangeListener(this.onClassesChanged)}},{key:"onClassesChanged",value:function(){this.setState({classes:ge._getClasses()})}},{key:"render",value:function(){var e=this.state.classes.map(function(e){return s.a.createElement("li",{class:"list-group-item"},s.a.createElement("a",{href:"/instructor/class/"+e.idClass}," ",e.className," "))});return s.a.createElement("div",null,s.a.createElement("h3",null,"My Classes"),s.a.createElement("ul",{className:"list-group col col-md-8 offset-md-2"},e))}}]),t}(n.Component),we=[],Ae={},_e=new(function(e){function t(){var e;return Object(o.a)(this,t),e=Object(i.a)(this,Object(u.a)(t).call(this)),E.register(e._registerToActions.bind(Object(f.a)(Object(f.a)(e)))),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_registerToActions",value:function(e){var t=this;switch(e.actionType){case I:this._setExams(e.payload);break;case G:case H:setTimeout(function(){t.emit("EXAM_CREATED")},0);break;case M:this._setExam(e.payload);break;case W:setTimeout(function(){t.emit("EXAM_UPDATED")},0)}}},{key:"_setExams",value:function(e){var t=this;e&&(we=e,setTimeout(function(){t.emit("EXAMS_CHANGED")},0))}},{key:"getExams",value:function(){return we}},{key:"_setExam",value:function(e){var t=this;e&&(Ae=e,setTimeout(function(){t.emit("EXAM_CHANGED")},0))}},{key:"getExam",value:function(){return Ae}},{key:"addExamUpdateListener",value:function(e){this.on("EXAM_UPDATED",e)}},{key:"removeExamUpdatedListner",value:function(e){this.removeListener("EXAM_UPDATED",e)}},{key:"addExamChangeListner",value:function(e){this.on("EXAM_CHANGED",e)}},{key:"removeExamChangeListner",value:function(e){this.removeListener("EXAM_CHANGED",e)}},{key:"addExamsChangeListerner",value:function(e){this.on("EXAMS_CHANGED",e)}},{key:"removeExamsChangeListener",value:function(e){this.removeListener("EXAMS_CHANGED",e)}},{key:"addExamsAddListerner",value:function(e){this.on("EXAM_CREATED",e)}},{key:"removeExamsAddListener",value:function(e){this.removeListener("EXAM_CREATED",e)}}]),t}(K.EventEmitter)),Ue=new z,De=new(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"getExam",value:function(e){Ue.getExam(e).then(function(e){E.dispatch({actionType:M,payload:e})})}},{key:"deleteExam",value:function(e){Ue.deleteExam(e).then(function(e){E.dispatch({actionType:H,payload:e})})}},{key:"updateAnswerKey",value:function(e,t){Ue.updateAnswerKey(e,t).then(function(e){E.dispatch({actionType:W,payload:e})})}},{key:"getStudentExam",value:function(e){Ue.getStudentExam(e).then(function(e){E.dispatch({actionType:M,payload:e})})}}]),e}()),Te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={exams:[]},a.onExamsChanged=a.onExamsChanged.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){_e.addExamsChangeListerner(this.onExamsChanged),fe.fetchExams(this.props.classid)}},{key:"componentWillUnmount",value:function(){_e.removeExamsChangeListener(this.onExamsChanged)}},{key:"onExamsChanged",value:function(){var e=_e.getExams();this.setState({exams:e})}},{key:"handleDelete",value:function(e){console.log(e),De.deleteExam(e)}},{key:"render",value:function(){var e=this,t=this.state.exams.map(function(t){return s.a.createElement("li",{className:"list-group-item md-auto"},s.a.createElement("a",{href:"/instructor/exam/"+t.idExam},t.exam_name),s.a.createElement("a",{className:"float-right",href:"",onClick:function(a){a.preventDefault(),e.handleDelete(t.idExam)}},s.a.createElement("span",{class:"badge badge-danger"},"-")))});return s.a.createElement("ul",{className:"col col-md-10 offset-md-1 list-group"},t)}}]),t}(n.Component),Le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={exam_name:"",date:"",answerkey:""},a.handleNameChange=a.handleNameChange.bind(Object(f.a)(Object(f.a)(a))),a.handleDateChange=a.handleDateChange.bind(Object(f.a)(Object(f.a)(a))),a.handleAnswerKeyChange=a.handleAnswerKeyChange.bind(Object(f.a)(Object(f.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(Object(f.a)(a))),a.onExamAdded=a.onExamAdded.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){_e.addExamsAddListerner(this.onExamAdded)}},{key:"componentWillUnmount",value:function(){_e.removeExamsAddListener(this.onExamAdded)}},{key:"onExamAdded",value:function(){fe.fetchExams(this.props.classid)}},{key:"handleNameChange",value:function(e){e.preventDefault(),this.setState({exam_name:e.target.value})}},{key:"handleDateChange",value:function(e){e.preventDefault(),this.setState({date:e.target.value})}},{key:"handleAnswerKeyChange",value:function(e){e.preventDefault(),this.setState({answerkey:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),fe.createExam(this.props.classid,this.state.date,this.state.exam_name,this.state.answerkey)}},{key:"render",value:function(){return s.a.createElement("div",{className:"col col-md-10 offset-md-1",style:{backgroundColor:"#eee",padding:"20px",borderRadius:"5px"}},s.a.createElement("h5",null,"Add Exam"),s.a.createElement("form",null,s.a.createElement("div",{className:"col col-md-12 form-group"},s.a.createElement("lable",{for:"name"},"Enter Exam Name:"),s.a.createElement("input",{className:"form-control",type:"text",id:"name",value:this.state.exam_name,onChange:this.handleNameChange})),s.a.createElement("div",{className:"col col-md-12 form-group"},s.a.createElement("lable",{for:"date"},"Enter Exam Date:"),s.a.createElement("input",{className:"form-control",type:"date",id:"date",value:this.state.date,onChange:this.handleDateChange})),s.a.createElement("div",{className:"col col-md-12 form-group"},s.a.createElement("lable",{for:"answer"},"Enter comma seperated answer key:"),s.a.createElement("textarea",{className:"form-control",id:"answer",value:this.state.answerkey,onChange:this.handleAnswerKeyChange})),s.a.createElement("button",{className:"btn btn-primary",onClick:this.handleSubmit},"Create")))}}]),t}(n.Component),Pe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={classname:"",starttime:"",endtime:"",coursename:"",studentcount:"",instructorcount:"",allusers:[],instructors:[],Students:[]},a.onClassChange=a.onClassChange.bind(Object(f.a)(Object(f.a)(a))),a.onClassUsersChange=a.onClassUsersChange.bind(Object(f.a)(Object(f.a)(a))),a.onAdd=a.onAdd.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){ge.addClassChangeListner(this.onClassChange),ge.addClassUserChangeListner(this.onClassUsersChange),fe.getClass(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){ge.removeClassChangeListener(this.onClassChange),ge.removeClassUserChangeListner(this.onClassUsersChange)}},{key:"onClassChange",value:function(){var e=ge.getClass();this.setState({classname:e.classname,starttime:new Date(e.starttime),endtime:e.endtime,coursename:e.coursename,studentcount:e.studentcount,instructorcount:e.instructorcount}),fe.getClassInstructorss(this.props.match.params.id),fe.getClassStudents(this.props.match.params.id)}},{key:"onClassUsersChange",value:function(){var e=ge.getClassStudents(),t=ge.getClassIns();this.setState({instructors:t,Students:e,instructorcount:t.length,studentcount:e.length})}},{key:"onAdd",value:function(e){alert("Instructors can not perform this action, contact Admin!!")}},{key:"render",value:function(){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-md-6 border-right"},s.a.createElement("h3",null,"Showing details for class: ",this.state.classname),s.a.createElement("form",{style:{backgroundColor:"#eee",padding:"20px",borderRadius:"5px"}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"name"},"Class Name"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.classname,id:"name",disabled:!0})),s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"coursename"},"Course Name"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.coursename,id:"coursename",disabled:!0}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"startdate"},"Start Date"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.starttime,id:"startdate",disabled:!0})),s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"enddate"},"End Date"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.endtime,id:"enddate",disabled:!0}))),s.a.createElement("div",null,s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"insnum"},"# of Instructors"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.instructorcount,id:"insnum",disabled:!0})),s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"stdnum"},"# of Students"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.studentcount,id:"stdnum",disabled:!0})))),s.a.createElement("br",null),s.a.createElement("div",{style:{backgroundColor:"#eee",padding:"20px",borderRadius:"5px",margin:"0px"},className:"row"},s.a.createElement("div",{className:"col col-md-6"},s.a.createElement("h6",null,"Current Instructors"),s.a.createElement(ke,{users:this.state.instructors,onClick:this.onAdd,operation:"delete"})),s.a.createElement("div",{className:"col col-md-6"},s.a.createElement("h6",null,"Current Students"),s.a.createElement(ke,{users:this.state.Students,onClick:this.onAdd,operation:"delete"})))),s.a.createElement("div",{className:"col col-md-6 border-left"},s.a.createElement("h3",null,"Exams for this class"),s.a.createElement("div",{className:"row"},s.a.createElement(Te,{classid:this.props.match.params.id})),s.a.createElement("br",null),s.a.createElement("div",{className:"row"},s.a.createElement(Le,{classid:this.props.match.params.id}))))}}]),t}(n.Component),Re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={name:"",date:"",answerkey:"",createdBy:"",students:[]},a.onExamReceived=a.onExamReceived.bind(Object(f.a)(Object(f.a)(a))),a.onAnswerKeyUpdated=a.onAnswerKeyUpdated.bind(Object(f.a)(Object(f.a)(a))),a.handleAnswerChange=a.handleAnswerChange.bind(Object(f.a)(Object(f.a)(a))),a.handleAnswerKeyChange=a.handleAnswerKeyChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){_e.addExamChangeListner(this.onExamReceived),_e.addExamUpdateListener(this.onAnswerKeyUpdated),De.getExam(this.props.match.params.examid)}},{key:"componentWillUnmount",value:function(){_e.removeExamChangeListner(this.onExamReceived),_e.removeExamUpdatedListner(this.onAnswerKeyUpdated)}},{key:"onExamReceived",value:function(){var e=_e.getExam();this.setState({name:e.exam_name,date:e.date,answerkey:e.answerkey,createdBy:e.firstname+" "+e.lastname,students:e.Students})}},{key:"onAnswerKeyUpdated",value:function(){De.getExam(this.props.match.params.examid)}},{key:"handleAnswerKeyChange",value:function(e){e.preventDefault(),De.updateAnswerKey(this.props.match.params.examid,this.state.answerkey)}},{key:"handleAnswerChange",value:function(e){e.preventDefault(),this.setState({answerkey:e.target.value})}},{key:"marks",value:function(e){var t=this.state.answerkey.split(",");e=e.split(",");var a,n=0;for(a=0;a<t.length;a++)e[a]===t[a]&&(n+=1);return n}},{key:"render",value:function(){var e=this,t=0,a=this.state.students.map(function(a){return t+=1,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},t),s.a.createElement("td",null,a.StudentFirstName+" "+a.StudentLastName),s.a.createElement("td",null,a.answerkey),s.a.createElement("td",null,e.marks(a.answerkey)))});return s.a.createElement("div",{className:"row"},s.a.createElement("div",{id:"exam-detais",className:"col col-md-4 border-right"},s.a.createElement("h3",null,"Exam Details"),s.a.createElement("p",null,s.a.createElement("b",null,"Name:"),this.state.name),s.a.createElement("p",null,s.a.createElement("b",null,"Date:"),this.state.date),s.a.createElement("p",null,s.a.createElement("b",null,"Created By:"),this.state.createdBy),s.a.createElement("p",null,s.a.createElement("b",null,"AnswerKey:"),s.a.createElement("textarea",{className:"form-control",value:this.state.answerkey,onChange:this.handleAnswerChange})),s.a.createElement("button",{className:"btn btn-primary",onClick:this.handleAnswerKeyChange},"Update")),s.a.createElement("div",{id:"exam-results border-right",className:"col col-md-8"},s.a.createElement("h3",null,"Results"),s.a.createElement("table",{class:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"#"),s.a.createElement("th",{scope:"col"},"Name"),s.a.createElement("th",{scope:"col"},"Answers"),s.a.createElement("th",{scope:"col"},"Marks"))),s.a.createElement("tbody",null,a))))}}]),t}(n.Component),Ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={user:{firstName:"",lastName:"",idUser:-1}},a._onProfileChanged=a._onProfileChanged.bind(Object(f.a)(Object(f.a)(a))),a.signout=a.signout.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){localStorage.getItem("userid")?(Q.addProfileChangeListener(this._onProfileChanged),Y.getUser(Q._getUserid())):this.props.history.replace("./signin")}},{key:"componentWillUnmount",value:function(){Q.removeProfileChangeListener(this._onProfileChanged)}},{key:"_onProfileChanged",value:function(){var e=Q._getUser();this.setState({user:e})}},{key:"signout",value:function(){localStorage.clear(),window.location.href="/"}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(le,{name:this.state.user.firstName+" "+this.state.user.lastName,onSignOut:this.signout,page:"Instructor home"}),s.a.createElement("div",{className:"container",style:{paddingTop:"50px"}},s.a.createElement(m.b,null,s.a.createElement(h.a,{exact:!0,path:"/instructor/class/:id",component:Pe}),s.a.createElement(h.a,{exact:!0,path:"/instructor/class",component:xe}),s.a.createElement(h.a,{exact:!0,path:"/instructor/exam/:examid",component:Re}),s.a.createElement(h.a,{exact:!0,path:"/instructor/",component:xe}))))}}]),t}(n.Component),Ge=new z,He=new(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"fetchStudentClasses",value:function(){Ge.getClassesForStudent().then(function(e){E.dispatch({actionType:w,payload:e})})}},{key:"submitExamAnswers",value:function(e,t){Ge.submitAnswer(e,t).then(function(e){De.getStudentExam(e.examid)})}}]),e}()),Me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={classes:[]},a.onClassesChanged=a.onClassesChanged.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){ge.addClassesChangedListner(this.onClassesChanged),He.fetchStudentClasses()}},{key:"componentWillUnmount",value:function(){ge.removeClassChangeListener(this.onClassesChanged)}},{key:"onClassesChanged",value:function(){this.setState({classes:ge._getClasses()})}},{key:"render",value:function(){var e=this.state.classes.map(function(e){return s.a.createElement("li",{class:"list-group-item"},s.a.createElement("a",{href:"/student/class/"+e.idClass}," ",e.className," "))});return s.a.createElement("div",null,s.a.createElement("h3",null,"My Classes"),s.a.createElement("ul",{className:"list-group col col-md-8 offset-md-2"},e))}}]),t}(n.Component),We=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={exams:[]},a.onExamsChanged=a.onExamsChanged.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){_e.addExamsChangeListerner(this.onExamsChanged),fe.fetchExams(this.props.classid)}},{key:"componentWillUnmount",value:function(){_e.removeExamsChangeListener(this.onExamsChanged)}},{key:"onExamsChanged",value:function(){var e=_e.getExams();this.setState({exams:e})}},{key:"handleDelete",value:function(e){console.log(e),De.deleteExam(e)}},{key:"render",value:function(){var e=this.state.exams.map(function(e){return s.a.createElement("li",{className:"list-group-item md-auto"},s.a.createElement("a",{href:"/student/exam/"+e.idExam},e.exam_name))});return s.a.createElement("ul",{className:"col col-md-10 offset-md-1 list-group"},e)}}]),t}(n.Component),Fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={classname:"",starttime:"",endtime:"",coursename:"",studentcount:"",instructorcount:"",allusers:[],instructors:[],Students:[]},a.onClassChange=a.onClassChange.bind(Object(f.a)(Object(f.a)(a))),a.onClassUsersChange=a.onClassUsersChange.bind(Object(f.a)(Object(f.a)(a))),a.onAdd=a.onAdd.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){ge.addClassChangeListner(this.onClassChange),ge.addClassUserChangeListner(this.onClassUsersChange),fe.getClass(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){ge.removeClassChangeListener(this.onClassChange),ge.removeClassUserChangeListner(this.onClassUsersChange)}},{key:"onClassChange",value:function(){var e=ge.getClass();this.setState({classname:e.classname,starttime:new Date(e.starttime),endtime:e.endtime,coursename:e.coursename,studentcount:e.studentcount,instructorcount:e.instructorcount}),fe.getClassInstructorss(this.props.match.params.id),fe.getClassStudents(this.props.match.params.id)}},{key:"onClassUsersChange",value:function(){var e=ge.getClassStudents(),t=ge.getClassIns();this.setState({instructors:t,Students:e,instructorcount:t.length,studentcount:e.length})}},{key:"onAdd",value:function(e){alert("Instructors can not perform this action, contact Admin!!")}},{key:"render",value:function(){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-md-12"},s.a.createElement("h3",null,"Showing details for class: ",this.state.classname)),s.a.createElement("div",{className:"col col-md-6 border-right"},s.a.createElement("form",{style:{backgroundColor:"#eee",padding:"20px",borderRadius:"5px"}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"name"},"Class Name"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.classname,id:"name",disabled:!0})),s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"coursename"},"Course Name"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.coursename,id:"coursename",disabled:!0}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"startdate"},"Start Date"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.starttime,id:"startdate",disabled:!0})),s.a.createElement("div",{className:"col"},s.a.createElement("label",{for:"enddate"},"End Date"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.endtime,id:"enddate",disabled:!0}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-md-6"},s.a.createElement("label",{for:"insnum"},"# of Instructors"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.instructorcount,id:"insnum",disabled:!0})),s.a.createElement("div",{className:"col col-md-6"},s.a.createElement("label",{for:"stdnum"},"# of Students"),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.studentcount,id:"stdnum",disabled:!0})))),s.a.createElement("br",null)),s.a.createElement("div",{className:"col col-md-6 border-left"},s.a.createElement("h3",null,"Exams for this class"),s.a.createElement("div",{className:"row"},s.a.createElement(We,{classid:this.props.match.params.id})),s.a.createElement("br",null)))}}]),t}(n.Component),Ke=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h3",null,"Results"),s.a.createElement("table",{class:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"#"),s.a.createElement("th",{scope:"col"},"Name"),s.a.createElement("th",{scope:"col"},"Answers"),s.a.createElement("th",{scope:"col"},"Marks"))),s.a.createElement("tbody",null,this.props.students)))}}]),t}(n.Component),Be=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={numberOfQuestion:0,answers:[],started:!1},a.start=a.start.bind(Object(f.a)(Object(f.a)(a))),a.submit=a.submit.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"start",value:function(e){var t;e.preventDefault();var a=[];for(t=1;t<=this.props.numberOfQuestion;t++)a.push({id:t,A:!1,B:!1,C:!1,D:!1});this.setState({numberOfQuestion:this.props.numberOfQuestion,answers:a,started:!0})}},{key:"handleCheckA",value:function(e){console.log(e);var t=this.state.answers;t[e-1].A?t[e-1].A=!1:t[e-1].A=!0,this.setState({answers:t})}},{key:"handleCheckB",value:function(e){console.log(e);var t=this.state.answers;t[e-1].B?t[e-1].B=!1:t[e-1].B=!0,this.setState({answers:t})}},{key:"handleCheckC",value:function(e){console.log(e);var t=this.state.answers;t[e-1].C?t[e-1].C=!1:t[e-1].C=!0,this.setState({answers:t})}},{key:"handleCheckD",value:function(e){console.log(e);var t=this.state.answers;t[e-1].D?t[e-1].D=!1:t[e-1].D=!0,this.setState({answers:t})}},{key:"submit",value:function(e){e.preventDefault();var t=this.state.answers;t=t.map(function(e){var t="";return t=e.A?t+"A":t,t=e.B?t+"B":t,t=e.C?t+"C":t,t=e.D?t+"D":t}),this.props.onSubmit(t.join(","))}},{key:"render",value:function(){var e,t=this;return e=this.state.answers.map(function(e){return s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},e.id),s.a.createElement("td",null,s.a.createElement("input",{type:"checkbox",checked:e.A,onChange:function(a){t.handleCheckA(e.id)}})),s.a.createElement("td",null,s.a.createElement("input",{type:"checkbox",checked:e.B,onChange:function(a){t.handleCheckB(e.id)}})),s.a.createElement("td",null,s.a.createElement("input",{type:"checkbox",checked:e.C,onChange:function(a){t.handleCheckC(e.id)}})),s.a.createElement("td",null,s.a.createElement("input",{type:"checkbox",checked:e.D,onChange:function(a){t.handleCheckD(e.id)}})))}),s.a.createElement("div",null,s.a.createElement("h3",null,"Fill Answers"),s.a.createElement("button",{className:this.state.started?"hideen":"btn btn-primary",onClick:this.start},"Start"),s.a.createElement("button",{className:this.state.started?"btn btn-primary":"hideen",onClick:this.submit},"Submin"),s.a.createElement("table",{className:"table table-hover table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"#"),s.a.createElement("th",{scope:"col"},"A"),s.a.createElement("th",{scope:"col"},"B"),s.a.createElement("th",{scope:"col"},"C"),s.a.createElement("th",{scope:"col"},"D"))),s.a.createElement("tbody",null,e)))}}]),t}(n.Component),Xe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={name:"",date:"",answerkey:"",createdBy:"",students:[],numberOfQuestion:0},a.onExamReceived=a.onExamReceived.bind(Object(f.a)(Object(f.a)(a))),a.onAnswerKeyUpdated=a.onAnswerKeyUpdated.bind(Object(f.a)(Object(f.a)(a))),a.handleAnswerChange=a.handleAnswerChange.bind(Object(f.a)(Object(f.a)(a))),a.handleAnswerKeyChange=a.handleAnswerKeyChange.bind(Object(f.a)(Object(f.a)(a))),a.handleAnswerSubmit=a.handleAnswerSubmit.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){_e.addExamChangeListner(this.onExamReceived),_e.addExamUpdateListener(this.onAnswerKeyUpdated),De.getStudentExam(this.props.match.params.examid)}},{key:"componentWillUnmount",value:function(){_e.removeExamChangeListner(this.onExamReceived),_e.removeExamUpdatedListner(this.onAnswerKeyUpdated)}},{key:"onExamReceived",value:function(){var e=_e.getExam();this.setState({name:e.exam_name,date:e.date,answerkey:e.answerkey,createdBy:e.firstname+" "+e.lastname,students:e.Student,numberOfQuestion:e.numberOfQuestion})}},{key:"onAnswerKeyUpdated",value:function(){De.getExam(this.props.match.params.examid)}},{key:"handleAnswerKeyChange",value:function(e){e.preventDefault(),De.updateAnswerKey(this.props.match.params.examid,this.state.answerkey)}},{key:"handleAnswerChange",value:function(e){e.preventDefault()}},{key:"marks",value:function(e){var t=this.state.answerkey.split(",");e=e.split(",");var a,n=0;for(a=0;a<t.length;a++)e[a]===t[a]&&(n+=1);return n}},{key:"handleAnswerSubmit",value:function(e){console.log(e),He.submitExamAnswers(this.props.match.params.examid,e.toLowerCase())}},{key:"render",value:function(){var e=this,t=0,a=this.state.students.map(function(a){return t+=1,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},t),s.a.createElement("td",null,a.StudentFirstName+" "+a.StudentLastName),s.a.createElement("td",null,a.answerkey),s.a.createElement("td",null,e.marks(a.answerkey)))});return s.a.createElement("div",{className:"row"},s.a.createElement("div",{id:"exam-detais",className:"col col-md-4 border-right"},s.a.createElement("h3",null,"Exam Details"),s.a.createElement("p",null,s.a.createElement("b",null,"Name:"),this.state.name),s.a.createElement("p",null,s.a.createElement("b",null,"Date:"),this.state.date),s.a.createElement("p",null,s.a.createElement("b",null,"Created By:"),this.state.createdBy),s.a.createElement("p",null,s.a.createElement("b",null,"Number Of Questions:"),this.state.numberOfQuestion),s.a.createElement("p",null,s.a.createElement("b",null,"AnswerKey:"),this.state.answerkey)),s.a.createElement("div",{id:"exam-results border-right",className:"col col-md-8"},s.a.createElement("div",{className:null==this.state.answerkey?"hideen":""},s.a.createElement(Ke,{students:a})),s.a.createElement("div",{className:null!==this.state.answerkey?"hideen":""},s.a.createElement(Be,{numberOfQuestion:this.state.numberOfQuestion,onSubmit:this.handleAnswerSubmit}))))}}]),t}(n.Component),Je=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={user:{firstName:"",lastName:"",idUser:-1}},a._onProfileChanged=a._onProfileChanged.bind(Object(f.a)(Object(f.a)(a))),a.signout=a.signout.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){localStorage.getItem("userid")?(Q.addProfileChangeListener(this._onProfileChanged),Y.getUser(Q._getUserid())):this.props.history.replace("./signin")}},{key:"componentWillUnmount",value:function(){Q.removeProfileChangeListener(this._onProfileChanged)}},{key:"_onProfileChanged",value:function(){var e=Q._getUser();this.setState({user:e})}},{key:"signout",value:function(){localStorage.clear(),window.location.href="/"}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(le,{name:this.state.user.firstName+" "+this.state.user.lastName,onSignOut:this.signout,page:"Student home"}),s.a.createElement("div",{className:"container",style:{paddingTop:"50px"}},s.a.createElement(m.b,null,s.a.createElement(h.a,{exact:!0,path:"/student/class/:id",component:Fe}),s.a.createElement(h.a,{exact:!0,path:"/student/class",component:Me}),s.a.createElement(h.a,{exact:!0,path:"/student/exam/:examid",component:Xe}),s.a.createElement(h.a,{exact:!0,path:"/student/",component:Me}))))}}]),t}(n.Component),Qe=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(m.a,{basename:"/"},s.a.createElement(h.a,{exact:!0,path:"/signin/",component:$}),s.a.createElement(h.a,{exact:!0,path:"/signup/",component:q}),s.a.createElement(h.a,{path:"/admin/",component:je}),s.a.createElement(h.a,{path:"/instructor/",component:Ie}),s.a.createElement(h.a,{path:"/student/",component:Je}),s.a.createElement(h.a,{exact:!0,path:"/",component:oe})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(Qe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.7faf7b02.chunk.js.map